<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">文本匹配方法 | 彩音のBlog</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "桜の彩音";
  mashiro_option.author_name = "彩音";
  mashiro_option.site_url = "/index.html";
  mashiro_option.v_appId = "lYNRGPGqY6jaXXBdu5JwvBHN-MdYXbMMI";
  mashiro_option.v_appKey = "wJkDCj8fLwzhY7dC7QXfQe1V";
  mashiro_option.mathjax = "1";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://s1.ax1x.com/2020/07/13/UtQmM6.jpg,https://s1.ax1x.com/2020/07/13/UtQSMV.jpg,https://s1.ax1x.com/2020/07/03/NjoeaT.jpg,https://s1.ax1x.com/2020/07/03/NjIDET.jpg,https://s1.ax1x.com/2020/07/03/NjIXrt.jpg,https://s1.ax1x.com/2020/07/03/NjouiF.jpg,https://s1.ax1x.com/2020/07/03/NjIb2d.jpg,https://s1.ax1x.com/2020/07/03/NjoMRJ.jpg,https://s1.ax1x.com/2020/07/13/UtQVR1.jpg,https://s1.ax1x.com/2020/07/13/UtQ3id.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="/index.html">
          <img src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>施工中。。。</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/yuk1n0sh1ta" target="_blank" class="social-github" title="github">
                    <img src="/img/social/github.svg">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="centerbg">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">桜の</span>
            <span class="shironeko">彩音</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/学习/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          学习
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/生活/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/musiclist/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/gallery/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          美术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/photo/">
                          <i class="fa fa-film" aria-hidden="true"></i>
                          相册
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://s2.ax1x.com/2020/02/10/14XAGd.jpg);" src="https://s1.ax1x.com/2020/07/13/UtQmM6.jpg,https://s1.ax1x.com/2020/07/13/UtQSMV.jpg,https://s1.ax1x.com/2020/07/03/NjoeaT.jpg,https://s1.ax1x.com/2020/07/03/NjIDET.jpg,https://s1.ax1x.com/2020/07/03/NjIXrt.jpg,https://s1.ax1x.com/2020/07/03/NjIb2d.jpg,https://s1.ax1x.com/2020/07/13/UtQVR1.jpg,https://s1.ax1x.com/2020/07/13/UtQ3id.jpg,https://s2.ax1x.com/2020/02/10/14XAGd.jpg" data-src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      文本匹配方法</h1>
      <p class="entry-census">
        <span>
          <a href="">
            <img src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
          </a>
        </span>
        <span>
          <a href="">彩音</a>
        </span>
        <whitefont>
        ·</whitefont>
        <whitefont>2022-2-12<whitefont>
        ·</whitefont>
      <whitefont id="busuanzi_value_page_pv"></whitefont><whitefont>次阅读</whitefont></p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="Text-Matching"><a href="#Text-Matching" class="headerlink" title="Text Matching"></a>Text Matching</h1><p>主要参考：</p>
<ol>
<li><a href="https://tech.meituan.com/2021/06/03/acl-2021-consert-bert.html" target="_blank" rel="noopener">https://tech.meituan.com/2021/06/03/acl-2021-consert-bert.html</a></li>
<li><a href="https://www.zhihu.com/column/c_1370341763794710528" target="_blank" rel="noopener">https://www.zhihu.com/column/c_1370341763794710528</a></li>
</ol>
<h2 id="Definition-amp-Overview"><a href="#Definition-amp-Overview" class="headerlink" title="Definition &amp; Overview"></a>Definition &amp; Overview</h2><p>文本匹配任务可以用文本相似度量化。</p>
<p>对于给定文本 $ t_{target} $ ，找到文本集合 $ T=[t_1, …, t_n] $ 中  $ t_i $ 与  $ t_{target} $ 相似度最高的文本。</p>
<p>该任务可以帮助模型学到词汇、句子级别的语义。<strong>任务的本质 </strong>是学习到可靠的句子表征。</p>
<p>文本相似度可以表现为：</p>
<ol>
<li>词汇重叠</li>
<li>语义重叠</li>
</ol>
<p>词汇重叠的评价方式：</p>
<ol>
<li>基于词汇重合：Jaccard矩阵、Rouge（n-gram）</li>
<li>基于频率：tf-idf</li>
</ol>
<p>语义重叠的评价方式：</p>
<ol>
<li>句向量的相似度 / 距离（Representation based）</li>
<li>输入句子对的分类输出（Interaction based）</li>
</ol>
<p>句向量的获取：</p>
<ol>
<li>直接获取（[CLS] Token、Paragraph Vector）</li>
<li>词向量之和</li>
</ol>
<p>句子对分类输出：<br>[CLS] [word1] [word2] [word3] [SEP] [word1] [word2] [word3] [word4] [SEP]</p>
<h2 id="有监督方法学习句子表征"><a href="#有监督方法学习句子表征" class="headerlink" title="有监督方法学习句子表征"></a>有监督方法学习句子表征</h2><center><img src="https://s4.ax1x.com/2022/02/12/Hw12DI.jpg" alt="有监督方法学习句子表征"></center>

<h3 id="Siamese结构（Representation-based）"><a href="#Siamese结构（Representation-based）" class="headerlink" title="Siamese结构（Representation based）"></a>Siamese结构（Representation based）</h3><p>向量融合方法：</p>
<ol>
<li>拼接： $ (u; v) $</li>
<li>求差： $ |u - v| $</li>
<li>element-wise dot: $ u*v $</li>
</ol>
<h3 id="交互结构（Interaction-based）"><a href="#交互结构（Interaction-based）" class="headerlink" title="交互结构（Interaction based）"></a>交互结构（Interaction based）</h3><p>[CLS] [sentence 1] [SEP] [sentence 2] [SEP]</p>
<h2 id="无监督方法学习句子表征（预训练方法-迁移学习）"><a href="#无监督方法学习句子表征（预训练方法-迁移学习）" class="headerlink" title="无监督方法学习句子表征（预训练方法 + 迁移学习）"></a>无监督方法学习句子表征（预训练方法 + 迁移学习）</h2><h3 id="预训练方法"><a href="#预训练方法" class="headerlink" title="预训练方法"></a>预训练方法</h3><p>句向量预训练：</p>
<ol>
<li>句向量Token（Paragrapgh Vector / [CLS]）</li>
<li>预测上下句（Skip Thought / Next Sentence Prediction）</li>
</ol>
<h3 id="迁移学习"><a href="#迁移学习" class="headerlink" title="迁移学习"></a>迁移学习</h3><p>借助语义推理数据集 如SNLI（<a href="https://nlp.stanford.edu/projects/snli/" target="_blank" rel="noopener">Stanford Natural Language Inference</a>）预训练。</p>
<h2 id="句向量模型"><a href="#句向量模型" class="headerlink" title="句向量模型"></a>句向量模型</h2><h3 id="TF-IDF（doc-doc匹配）"><a href="#TF-IDF（doc-doc匹配）" class="headerlink" title="TF-IDF（doc-doc匹配）"></a>TF-IDF（doc-doc匹配）</h3><p>$ corpus = [Sentence_1, Sentence_2] $<br>$ Sentence_1 = [I, like, apple, devices, very, much] $<br>$ Sentence_2 = [Apple, is, a, company, who, is, selling, high-tech, devices] $</p>
<p>$ Term Freq = \frac{词汇在当前文本中出现次数}{当前文本总词数} $<br>$ Inverse Document Freq = log\frac{语料库中文本总个数}{包含该词汇的文本个数DF} $<br>$ TF-IDF = TF * IDF $ </p>
<p>$ Sentence_1 $</p>
<table>
<thead>
<tr>
<th style="text-align:center">Term</th>
<th style="text-align:center">$WordCount$</th>
<th style="text-align:center">$ TF_1 $</th>
<th style="text-align:center">$ IDF_1 $</th>
<th style="text-align:center">$ TF-IDF_1 $</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.05</td>
</tr>
<tr>
<td style="text-align:center">like</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.05</td>
</tr>
<tr>
<td style="text-align:center">apple</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{2} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">devices</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{2} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">very</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.05</td>
</tr>
<tr>
<td style="text-align:center">much</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{6} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.05</td>
</tr>
<tr>
<td style="text-align:center">is</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">company</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">who</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">selling</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">high-tech</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p>$ Sentence_2 $</p>
<table>
<thead>
<tr>
<th style="text-align:center">Term</th>
<th style="text-align:center">$WordCount$</th>
<th style="text-align:center">$ TF_1 $</th>
<th style="text-align:center">$ IDF_1 $</th>
<th style="text-align:center">$ TF-IDF_1 $</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">like</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">apple</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{2} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">devices</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{2} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">very</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">much</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">is</td>
<td style="text-align:center">2</td>
<td style="text-align:center">$ \frac{2}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.075</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.038</td>
</tr>
<tr>
<td style="text-align:center">company</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.038</td>
</tr>
<tr>
<td style="text-align:center">who</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.038</td>
</tr>
<tr>
<td style="text-align:center">selling</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.038</td>
</tr>
<tr>
<td style="text-align:center">high-tech</td>
<td style="text-align:center">1</td>
<td style="text-align:center">$ \frac{1}{8} $</td>
<td style="text-align:center">$ log\frac{2}{1} $</td>
<td style="text-align:center">0.038</td>
</tr>
</tbody>
</table>
<p>$ Sentence_1 = [0.05, 0.05, 0, 0, 0.05, 0.05, 0, 0, 0, 0, 0, 0] $<br>$ Sentence_2 = [0, 0, 0, 0, 0, 0, 0.75, 0.38, 0.38, 0.38, 0.38, 0.38] $</p>
<p>$ Similarity = cos(Sentence1, Sentence2) $ </p>
<p>TF对词频加权（频率越高权重越高），IDF对特殊性加权（单词越特殊权重越高）。</p>
<h3 id="BM25（1980-1990，query-doc匹配）"><a href="#BM25（1980-1990，query-doc匹配）" class="headerlink" title="BM25（1980-1990，query-doc匹配）"></a>BM25（1980-1990，query-doc匹配）</h3><p>$ score(D, Q) = \sum_{i=1}^{n}IDF(q_i)\cdot R(D, q_i) $ </p>
<p>$ IDF(q_i) = log \frac{N - DF_i + 0.5}{DF_i + 0.5}$</p>
<p>$ R(D, q_i)=\frac{f(q_i, D) \cdot(k_1+1)}{f(q_i, D)+k_1\cdot(1+b\cdot(\frac{Length_D}{Length_{avg}} - 1))} $</p>
<h3 id="Paragraph-Vector（2014，无监督）"><a href="#Paragraph-Vector（2014，无监督）" class="headerlink" title="Paragraph Vector（2014，无监督）"></a>Paragraph Vector（2014，无监督）</h3><p>论文链接：<a href="https://arxiv.org/pdf/1405.4053.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1405.4053.pdf</a></p>
<p>论文解读：</p>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/21242559" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/21242559</a></li>
<li><a href="http://klausvon.cn/2019/11/21/%E3%80%90%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0%E3%80%91Distributed-Representations-of-Sentences-and-Documents/" target="_blank" rel="noopener">http://klausvon.cn/2019/11/21/%E3%80%90%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0%E3%80%91Distributed-Representations-of-Sentences-and-Documents/</a></li>
</ol>
<p>句向量中的CBOW：</p>
<p>已知上文预测后文</p>
<center><img src="https://s4.ax1x.com/2022/02/12/Hw3rd0.png" alt="screenshot 20220212 112530"></center>

<p>句向量中的skip-gram：</p>
<p>Another way is to ignore the context words in the input, but force the model to predict words randomly sampled from the paragraph in the output. In reality, what this means is that at each iteration of stochastic gradient descent, we sample a text window, then sample a random word from the text window and form a classification task given the Paragraph Vector.</p>
<p>另一种方法是无视上下文，让模型强行预测出段落中随机挑选的单词。在每次随机梯度下降中，采样得到一个文本窗口，将文本窗口中的随机单词作为分类任务的真值训练Paragraph Vector。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/Hw3oo6.png" alt="screenshot 20220212 112747"></center>

<h3 id="Skip-Thought-Vectors（NIPS2015，无监督）"><a href="#Skip-Thought-Vectors（NIPS2015，无监督）" class="headerlink" title="Skip-Thought Vectors（NIPS2015，无监督）"></a>Skip-Thought Vectors（NIPS2015，无监督）</h3><p>论文链接：<a href="https://arxiv.org/pdf/1506.06726.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1506.06726.pdf</a></p>
<p>论文解读：<a href="https://zhuanlan.zhihu.com/p/21259831" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/21259831</a></p>
<p>Input Sentence -&gt; Encoder -&gt; 2 direction</p>
<ol>
<li>Decoder 1：预测前一句话的Token</li>
<li>Decoder 2：预测后一句话的Token</li>
</ol>
<center><img src="https://s4.ax1x.com/2022/02/12/Hw8rXd.png" alt="screenshot 20220212 113429"></center>

<h3 id="Infersent（EMNLP2017，双塔，迁移学习）"><a href="#Infersent（EMNLP2017，双塔，迁移学习）" class="headerlink" title="Infersent（EMNLP2017，双塔，迁移学习）"></a>Infersent（EMNLP2017，双塔，迁移学习）</h3><p>论文链接：<a href="https://arxiv.org/pdf/1705.02364.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1705.02364.pdf</a></p>
<p>论文解读：<a href="https://zhuanlan.zhihu.com/p/370619849" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/370619849</a></p>
<p>双塔结构 + SNLI数据集迁移学习</p>
<center><img src="https://s4.ax1x.com/2022/02/12/Hw8zjJ.png" alt="screenshot 20220127 150620"></center>

<p>结论：迁移学习优于无监督的SkipThought。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwGuDA.png" alt="image 20220128151000752"></center>

<h3 id="BERT（NAACL2019，交互结构，无监督）"><a href="#BERT（NAACL2019，交互结构，无监督）" class="headerlink" title="BERT（NAACL2019，交互结构，无监督）"></a>BERT（NAACL2019，交互结构，无监督）</h3><p>论文链接：<a href="https://arxiv.org/pdf/1810.04805.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1810.04805.pdf</a></p>
<p>NSP：用前一句话预测下一句话是否与前一句话连续。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwG6v4.png" alt="image 20220127152005211"></center>

<p>有监督：</p>
<p>[CLS] Sentence 1 [SEP] Sentence 2 [SEP]</p>
<p>通过[CLS]接分类器判别句子是否相似。</p>
<h3 id="Sentence-BERT（EMNLP2019，双塔，迁移学习）"><a href="#Sentence-BERT（EMNLP2019，双塔，迁移学习）" class="headerlink" title="Sentence-BERT（EMNLP2019，双塔，迁移学习）"></a>Sentence-BERT（EMNLP2019，双塔，迁移学习）</h3><p>论文链接：<a href="https://arxiv.org/pdf/1908.10084.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1908.10084.pdf</a></p>
<p>计算由共享参数的BERT生成的句子表征的相似度。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwGIPK.png" alt="screenshot 20220126 143433"></center>

<p>结论：双塔结构迁移学习后的SBERT优于BERT原有结构生成的句向量</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwJMM4.png" alt="screenshot 20220126 143940"></center>

<h3 id="Cross-Thought（EMNLP2020，无监督）"><a href="#Cross-Thought（EMNLP2020，无监督）" class="headerlink" title="Cross-Thought（EMNLP2020，无监督）"></a>Cross-Thought（EMNLP2020，无监督）</h3><p>论文链接：<a href="https://arxiv.org/pdf/2010.03652.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2010.03652.pdf</a></p>
<p>在BERT基础上添加多个上下文token，用MLM方法通过周边其他句子的表示预测当前句子的token_id。</p>
<p>结论：</p>
<ol>
<li>优于MLM</li>
<li>计算上下文Token Representation算力消耗过大，带来的提升不可观</li>
</ol>
<center><img src="https://s4.ax1x.com/2022/02/12/HwJgW8.png" alt="image 20220127152859001"></center>

<p>Skip-Thought知中间求两边，为Skip。</p>
<p>Cross-Thought将上下文每句话句向量都考虑在内，为Cross。</p>
<h3 id="SLM（EMNLP2020，自监督）"><a href="#SLM（EMNLP2020，自监督）" class="headerlink" title="SLM（EMNLP2020，自监督）"></a>SLM（EMNLP2020，自监督）</h3><p>论文链接: <a href="https://arxiv.org/pdf/2010.16249.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2010.16249.pdf</a></p>
<p>打乱sentence的position_id后，预测顺序。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwJooq.png" alt="screenshot 20220126 151831"></center>

<p>结论：</p>
<ol>
<li>优于MLM</li>
<li>预测顺序算力消耗过大，带来的提升不可观</li>
</ol>
<center><img src="https://s4.ax1x.com/2022/02/12/HwJOlF.png" alt="image 20220127153310852"></center>

<h3 id="BERT-flow（EMNLP2020，向量空间映射）"><a href="#BERT-flow（EMNLP2020，向量空间映射）" class="headerlink" title="BERT-flow（EMNLP2020，向量空间映射）"></a>BERT-flow（EMNLP2020，向量空间映射）</h3><p>论文链接：<a href="https://arxiv.org/pdf/2011.05864.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2011.05864.pdf</a><br>论文解读：</p>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/337134133" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/337134133</a></li>
<li><a href="https://kexue.fm/archives/8069" target="_blank" rel="noopener">https://kexue.fm/archives/8069</a></li>
</ol>
<p>BERT空间 -&gt; 高斯空间（分布更加均匀）</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwJzwR.png" alt="image 20220127153529317"></center>

<h3 id="BERT-whitening（2021，向量空间映射）"><a href="#BERT-whitening（2021，向量空间映射）" class="headerlink" title="BERT-whitening（2021，向量空间映射）"></a>BERT-whitening（2021，向量空间映射）</h3><p>论文链接：<a href="https://arxiv.org/pdf/2103.15316.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2103.15316.pdf</a><br>论文解读：<a href="https://kexue.fm/archives/8069" target="_blank" rel="noopener">https://kexue.fm/archives/8069</a></p>
<p>对参数进行白化操作，使得均值变为零，协方差矩阵变换成单位阵，获得一个更好的句向量空间。</p>
<h3 id="ConSert（ACL2021，无监督学习，数据增强）"><a href="#ConSert（ACL2021，无监督学习，数据增强）" class="headerlink" title="ConSert（ACL2021，无监督学习，数据增强）"></a>ConSert（ACL2021，无监督学习，数据增强）</h3><p>论文链接：<a href="https://arxiv.org/pdf/2105.11741.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2105.11741.pdf</a><br>论文解读：</p>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/378544839" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/378544839</a></li>
<li><a href="https://tech.meituan.com/2021/06/03/acl-2021-consert-bert.html" target="_blank" rel="noopener">https://tech.meituan.com/2021/06/03/acl-2021-consert-bert.html</a></li>
</ol>
<p>通过多种数据增强方法生成正例，缩进正例之间的距离，增加反例句子之间的距离。</p>
<p>数据增强：</p>
<ol>
<li>对抗攻击（Adversarial Attack）：仅适用于有监督？</li>
<li>打乱顺序：Shuffle Position ID。</li>
<li>裁剪：将对应Token的Embedding置零 / 将Embedding的某个维度置零</li>
<li>Dropout：没有Token和Embedding维度的指定，随机置零。</li>
</ol>
<center><img src="https://s4.ax1x.com/2022/02/12/HwY36g.png" alt="screenshot 20220126 154832"></center>

<p>结论：<br>有提升但是不如SimCSE，这篇文章在SimCSE之前发表。</p>
<h3 id="SimCSE（EMNLP2021，无监督，对比学习）"><a href="#SimCSE（EMNLP2021，无监督，对比学习）" class="headerlink" title="SimCSE（EMNLP2021，无监督，对比学习）"></a>SimCSE（EMNLP2021，无监督，对比学习）</h3><p>论文链接：<a href="https://arxiv.org/pdf/2104.08821.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2104.08821.pdf</a><br>论文解读：</p>
<ol>
<li><a href="https://blog.csdn.net/weixin_45839693/article/details/116302914" target="_blank" rel="noopener">https://blog.csdn.net/weixin_45839693/article/details/116302914</a></li>
<li><a href="https://kexue.fm/archives/8348" target="_blank" rel="noopener">https://kexue.fm/archives/8348</a></li>
</ol>
<p>通过dropout生成正例对，与其他句子生成反例对。本质是一种数据扩增。</p>
<center><img src="https://s4.ax1x.com/2022/02/12/HwYJmj.png" alt="screenshot 20220126 153341"></center>

<p>结论：</p>
<ol>
<li>自监督学习结果优于同量级有监督SBERT版本，对比学习很有效果。</li>
<li>有监督学习结果优于同量级有监督SBERT版本，可能是数据集/损失函数选择问题。</li>
</ol>
<center><img src="https://s4.ax1x.com/2022/02/12/HwY2A1.png" alt="screenshot 20220126 154544"></center>


<h2 id="数据增强方法"><a href="#数据增强方法" class="headerlink" title="数据增强方法"></a>数据增强方法</h2><p>文本级别的增强：</p>
<ol>
<li>回译：将文本翻译为另一种语言再翻译回来。</li>
<li>CBERT：将文本部分替换为[MASK]，并让BERT恢复这些词。</li>
<li>意译（Paraphrase）：使用训练好的Paraphrase模型生成同义句。</li>
</ol>
<p>Embedding级别的增强：</p>
<ol>
<li>对抗攻击（Adversarial Attack）：？仅适用于有监督？</li>
<li>打乱顺序：Shuffle Position ID。</li>
<li>裁剪：将对应Token的Embedding置零 / 将Embedding的某个维度置零</li>
<li>Dropout：没有Token和Embedding维度的指定，随机置零。</li>
</ol>
<h2 id="何为对比学习？"><a href="#何为对比学习？" class="headerlink" title="何为对比学习？"></a>何为对比学习？</h2><p>一种通过拉近正例拉远反例方法优化embedding空间的自监督预训练方法</p>
<h1 id="NLI-数据集"><a href="#NLI-数据集" class="headerlink" title="NLI 数据集"></a>NLI 数据集</h1><h2 id="OCNLI（5万对）"><a href="#OCNLI（5万对）" class="headerlink" title="OCNLI（5万对）"></a>OCNLI（5万对）</h2><p>OCNLI，即原生中文自然语言推理数据集，是第一个非翻译的、使用原生汉语的大型中文自然语言推理数据集。 OCNLI包含5万余训练数据，3千验证数据及3千测试数据。除测试数据外，我们将提供数据及标签。测试数据仅提供数据。</p>
<p>简介：</p>
<ol>
<li><a href="https://github.com/CLUEbenchmark/CLUE" target="_blank" rel="noopener">https://github.com/CLUEbenchmark/CLUE</a></li>
<li><a href="https://github.com/cluebenchmark/OCNLI" target="_blank" rel="noopener">https://github.com/cluebenchmark/OCNLI</a></li>
</ol>
<p>下载地址：<a href="https://storage.googleapis.com/cluebenchmark/tasks/ocnli_public.zip" target="_blank" rel="noopener">https://storage.googleapis.com/cluebenchmark/tasks/ocnli_public.zip</a></p>
<h2 id="CMNLI（39万对）"><a href="#CMNLI（39万对）" class="headerlink" title="CMNLI（39万对）"></a>CMNLI（39万对）</h2><p>CMNLI数据由两部分组成：XNLI和MNLI。数据来自于fiction，telephone，travel，government，slate等，对原始MNLI数据和XNLI数据进行了中英文转化，保留原始训练集，合并XNLI中的dev和MNLI中的matched作为CMNLI的dev，合并XNLI中的test和MNLI中的mismatched作为CMNLI的test，并打乱顺序。该数据集可用于判断给定的两个句子之间属于蕴涵、中立、矛盾关系。</p>
<p>简介：<a href="https://github.com/CLUEbenchmark/CLUE" target="_blank" rel="noopener">https://github.com/CLUEbenchmark/CLUE</a></p>
<p>下载地址：<a href="https://storage.googleapis.com/cluebenchmark/tasks/cmnli_public.zip" target="_blank" rel="noopener">https://storage.googleapis.com/cluebenchmark/tasks/cmnli_public.zip</a></p>
<h2 id="ChineseTextualInference（42万对）"><a href="#ChineseTextualInference（42万对）" class="headerlink" title="ChineseTextualInference（42万对）"></a>ChineseTextualInference（42万对）</h2><p>目前,关于文本蕴含的研究主要还是集中在英文,如评测中常常使用的SNLI数据集与MultiNIL:</p>
<ol>
<li>The Stanford Natural Language Inference (SNLI) 是斯坦福大学NLP组发布的文本蕴含识别的数据集。SNLI由人工标注的，一共包含570K个文本对，其中训练集550K，验证集10K，测试集10K，一共包含三类entailment，contradiction，neutra，上节提到的例子就是出自此数据集</li>
<li>The Multi-Genre Natural Language Inference (MultiNLI)是一个众包数据集，包含433k个文本对。</li>
</ol>
<p>简介：<a href="https://github.com/liuhuanyong/ChineseTextualInference" target="_blank" rel="noopener">https://github.com/liuhuanyong/ChineseTextualInference</a></p>

        </div>
        <!-- .entry-content -->
        <!--<div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="/img/custom/social/github.svg"></li>
                <li class="wechat-code"><img src="undefined"></li>
              </ul>
            </div>
          </div>
        </div>-->
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2022/02/27/数据扩增方法/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://s1.ax1x.com/2020/07/13/UtQmM6.jpg,https://s1.ax1x.com/2020/07/13/UtQSMV.jpg,https://s1.ax1x.com/2020/07/03/NjoeaT.jpg,https://s1.ax1x.com/2020/07/03/NjIDET.jpg,https://s1.ax1x.com/2020/07/03/NjIXrt.jpg,https://s1.ax1x.com/2020/07/03/NjIb2d.jpg,https://s1.ax1x.com/2020/07/13/UtQVR1.jpg,https://s1.ax1x.com/2020/07/13/UtQ3id.jpg,https://s2.ax1x.com/2020/02/10/14XAGd.jpg" data-src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                数据扩增方法</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2022/02/08/2022 年后总结/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://s1.ax1x.com/2020/07/13/UtQmM6.jpg,https://s1.ax1x.com/2020/07/13/UtQSMV.jpg,https://s1.ax1x.com/2020/07/03/NjoeaT.jpg,https://s1.ax1x.com/2020/07/03/NjIDET.jpg,https://s1.ax1x.com/2020/07/03/NjIXrt.jpg,https://s1.ax1x.com/2020/07/03/NjIb2d.jpg,https://s1.ax1x.com/2020/07/13/UtQVR1.jpg,https://s1.ax1x.com/2020/07/13/UtQ3id.jpg,https://s2.ax1x.com/2020/02/10/14XAGd.jpg" data-src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                2022年后总结</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "lYNRGPGqY6jaXXBdu5JwvBHN-MdYXbMMI",
        appKey: "wJkDCj8fLwzhY7dC7QXfQe1V",
        path: window.location.pathname,
        placeholder: "欢迎在评论区留言！",
        recordIP: true
      })
  }
</script>


      <!-- -->
      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="" class="profile gravatar"><img src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg" itemprop="image" alt="彩音" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author">彩音</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>喵喵喵？</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>

<!--  -->

    </div>  
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 彩音<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2019-2022 Yuk1n0sh1ta</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Modified by Yuk1n0, Hosted by Github & Gitee</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<!--<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script> Modified by Yuk1n0-->
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"0","movies":{"url": "","name":"","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"0","movies":{"url": "","name":"","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>


<!--Updated by Yuk1n0 -->
<script type="text/javascript" src="https://lib.baomitu.com/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://s2.ax1x.com/2020/02/10/14XAGd.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">桜の彩音</p>
  <p style="text-align: center; word-spacing: 20px;">
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/学习/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  学习
                </a>
              </li>
            
              <li>
                <a href="/categories/生活/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/musiclist/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/gallery/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  美术
                </a>
              </li>
            
              <li>
                <a href="/photo/">
                  <i class="fa fa-film" aria-hidden="true"></i>
                  相册
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我
                </a>
              </li>
            
          </ul>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019-2022 Yuk1n0sh1ta</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="\css\APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-list ol li.aplayer-list-light{
    background: rgba(101, 179, 253, 0.2);
  }
  .aplayer.aplayer-fixed{
    bottom: 72px;
    background: rgba(255, 255, 255, 0.65);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    width: 400;
  }
  .aplayer.aplayer-fixed .aplayer-body{
    bottom: 72px;
    background: rgba(255, 255, 255, 0.2);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    width: 400;
  }
  .aplayer .aplayer-lrc {
    height: 44px;
    width: 100%;
  }
  .aplayer .aplayer-lrc p{
    font-family:'Courier New', Courier, monospace;
    text-shadow: 0.5px 0.5px 1px black;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 1px;
    line-height: 130% !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: rgb(98, 109, 255);
  }
  .aplayer.aplayer-narrow .aplayer-body{
    bottom: 5px;
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer.aplayer-narrow .lrc-show {
    height: 54px;
    width: 70%;
    display: inherit;
    left: 15%;
    margin-left: 40px;
    background: rgba(255, 255, 255, 0.1);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
  }
  .aplayer.aplayer.aplayer-fixed .lrc-show {
    height: 54px;
    width: 70%;
    display: inherit;
    left: 15%;
    margin-left: 40px;
    background: rgba(255, 255, 255, 0.1);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);
  }
  
</style>
<meting-js

    id="2017848421"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

    theme="#2980b9"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-icon.aplayer-icon-lrc').hasClass('aplayer-icon-lrc-inactivity')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      }
      else if($('.aplayer').hasClass('aplayer-withlrc')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } 
      else {
        if($('.aplayer-button').hasClass('aplayer-pause')) {
        $('.aplayer-lrc').addClass('lrc-show');
        }
      }
    })
  });
  
</script>
</body>
</html>